---
layout: base
title: Music
description: Original compositions and music releases with high-quality audio
pagination:
  data: collections.musicPaginated
  size: 25
  alias: tracks
permalink: "/music/{% if pagination.pageNumber > 0 %}{{ pagination.pageNumber + 1 }}/{% endif %}index.html"
---

<div class="page-header">
    <h1>Music</h1>
    <p>Original compositions and music releases with high-quality audio</p>
    {% if pagination.totalPages > 1 %}
    <div class="pagination-info">
        <span>Page {{ pagination.pageNumber + 1 }} of {{ pagination.totalPages }}</span>
        <span class="track-count">({{ pagination.items.length }} of {{ collections.musicPaginated.length }} tracks)</span>
    </div>
    {% endif %}
</div>

<div class="music-list-compact">
    {% for track in tracks %}
    <article class="song-item" data-filename="{{ track.data.filename }}" data-track-index="{{ loop.index0 }}">
        <div class="song-info">
            <div class="song-primary">
                <h3 class="song-title">{{ track.data.title }}</h3>
                <span class="song-artist">{{ track.data.artist }}</span>
            </div>
            <div class="song-secondary">
                {% if track.data.album and track.data.album != "Unknown Album" %}
                <span class="song-album">{{ track.data.album }}</span>
                {% endif %}
                {% if track.data.duration %}
                <span class="song-duration">{{ track.data.duration | formatDuration }}</span>
                {% endif %}
            </div>
        </div>
        <div class="song-metadata">
            {% if track.data.fileSize %}
            <span class="file-size">{{ track.data.fileSize | formatFileSize }}</span>
            {% endif %}
        </div>
        <div class="song-actions">
            <button class="play-track-btn" title="Play {{ track.data.title }}">
                <span class="play-icon">‚ñ∂</span>
            </button>
            <a href="/music-files/{{ track.data.filename }}" class="download-track-btn" title="Download {{ track.data.title }}" download>
                <span class="download-icon">‚¨á</span>
            </a>
        </div>
    </article>
    {% endfor %}
</div>

{% if pagination.totalPages > 1 %}
<nav class="pagination" role="navigation" aria-label="Music pagination">
    {% if pagination.href.previous %}
    <a href="{{ pagination.href.previous }}" class="pagination-link pagination-prev">
        ‚Üê Previous
    </a>
    {% endif %}
    
    <div class="pagination-numbers">
        {% set startPage = pagination.pageNumber - 2 %}
        {% set endPage = pagination.pageNumber + 2 %}
        {% if startPage < 0 %}{% set startPage = 0 %}{% endif %}
        {% if endPage >= pagination.totalPages %}{% set endPage = pagination.totalPages - 1 %}{% endif %}
        
        {% if startPage > 0 %}
        <a href="/music/" class="pagination-link">1</a>
        {% if startPage > 1 %}<span class="pagination-ellipsis">‚Ä¶</span>{% endif %}
        {% endif %}
        
        {% for pageNum in range(startPage, endPage + 1) %}
        {% if pageNum == pagination.pageNumber %}
        <span class="pagination-link pagination-current">{{ pageNum + 1 }}</span>
        {% else %}
        {% if pageNum == 0 %}
        <a href="/music/" class="pagination-link">{{ pageNum + 1 }}</a>
        {% else %}
        <a href="/music/{{ pageNum + 1 }}/" class="pagination-link">{{ pageNum + 1 }}</a>
        {% endif %}
        {% endif %}
        {% endfor %}
        
        {% if endPage < pagination.totalPages - 1 %}
        {% if endPage < pagination.totalPages - 2 %}<span class="pagination-ellipsis">‚Ä¶</span>{% endif %}
        <a href="/music/{{ pagination.totalPages }}/" class="pagination-link">{{ pagination.totalPages }}</a>
        {% endif %}
    </div>
    
    {% if pagination.href.next %}
    <a href="{{ pagination.href.next }}" class="pagination-link pagination-next">
        Next ‚Üí
    </a>
    {% endif %}
</nav>
{% endif %}

{% if tracks.length == 0 %}
<div class="empty-state">
    <h2>No music releases yet</h2>
    <p>Check back soon for original compositions and audio releases!</p>
    <div class="upload-hint">
        <p><strong>To add music:</strong></p>
        <ol>
            <li>Add FLAC files to the <code>music-files/</code> directory</li>
            <li>Run <code>npm run extract-music</code> to generate pages</li>
            <li>Edit the generated markdown files to add descriptions</li>
        </ol>
    </div>
</div>
{% endif %}

<!-- Fixed Bottom Audio Player -->
<div id="bottom-player" class="bottom-player" style="display: none;">
    <!-- Hidden HTML5 audio element -->
    <audio id="global-audio" preload="metadata" class="global-audio-player">
        <p>Your browser doesn't support HTML5 audio.</p>
    </audio>

    <div class="player-content">
        <!-- Track Info -->
        <div class="player-track-info">
            <div class="player-thumbnail">
                <div class="album-art-placeholder">
                    <div class="music-icon">‚ô™</div>
                </div>
            </div>
            <div class="player-details">
                <div class="player-title">No track selected</div>
                <div class="player-artist">Select a track to play</div>
            </div>
        </div>

        <!-- Controls -->
        <div class="player-controls">
            <button id="global-play-button" class="player-play-button" title="Play/Pause" disabled>
                <span class="play-icon">‚ñ∂</span>
                <span class="pause-icon">‚è∏</span>
            </button>
            <div class="player-volume-control">
                <button class="player-volume-button" title="Toggle Mute">üîä</button>
                <div class="player-volume-slider" data-volume="0.8">
                    <div class="player-volume-fill"></div>
                </div>
            </div>
        </div>

        <!-- Progress and Time -->
        <div class="player-progress-section">
            <div class="player-waveform-container">
                <div class="player-progress-bar">
                    <div class="player-progress-fill"></div>
                </div>
            </div>
            <div class="player-time-display">
                <span class="player-current-time">0:00</span>
                <span class="player-duration">0:00</span>
            </div>
        </div>
    </div>
</div>