<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    {%- set pageTitle = title or site.name %}
    {%- set pageDescription = description or site.description %}
    {%- set pageUrl = site.url + page.url %}
    
    <title>{% if title %}{{ title }} | {{ site.name }}{% else %}{{ site.name }}{% endif %}</title>
    <meta name="description" content="{{ pageDescription }}">
    <meta name="author" content="{{ site.author.name }}">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="{{ pageUrl }}">
    
    <!-- RSS Feeds -->
    <link rel="alternate" type="application/rss+xml" title="{{ site.name }} - Blog Posts" href="/feed.xml">
    <link rel="alternate" type="application/rss+xml" title="{{ site.name }} - Music Releases" href="/music-feed.xml">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="{% if tags and 'music' in tags %}music.song{% else %}website{% endif %}">
    <meta property="og:url" content="{{ pageUrl }}">
    <meta property="og:title" content="{{ pageTitle }}">
    <meta property="og:description" content="{{ pageDescription }}">
    <meta property="og:site_name" content="{{ site.name }}">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:url" content="{{ pageUrl }}">
    <meta name="twitter:title" content="{{ pageTitle }}">
    <meta name="twitter:description" content="{{ pageDescription }}">
    
    <!-- Music-specific meta tags -->
    {%- if artist %}
    <meta property="music:musician" content="{{ artist }}">
    <meta name="twitter:label1" content="Artist">
    <meta name="twitter:data1" content="{{ artist }}">
    {%- endif %}
    {%- if album and album != "Unknown Album" %}
    <meta property="music:album" content="{{ album }}">
    <meta name="twitter:label2" content="Album">
    <meta name="twitter:data2" content="{{ album }}">
    {%- endif %}
    {%- if duration %}
    <meta property="music:duration" content="{{ duration }}">
    {%- endif %}
    
    <!-- Schema.org structured data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "{% if tags and 'music' in tags %}MusicRecording{% else %}WebSite{% endif %}",
      "name": "{{ pageTitle }}",
      "description": "{{ pageDescription }}",
      "url": "{{ pageUrl }}"
      {%- if site.author %},
      "author": {
        "@type": "Person",
        "name": "{{ site.author.name }}"
      }
      {%- endif %}
      {%- if artist and tags and 'music' in tags %},
      "byArtist": {
        "@type": "Person",
        "name": "{{ artist }}"
      }
      {%- endif %}
      {%- if album and album != "Unknown Album" %},
      "inAlbum": {
        "@type": "MusicAlbum",
        "name": "{{ album }}"
      }
      {%- endif %}
      {%- if duration %},
      "duration": "PT{{ duration }}S"
      {%- endif %}
      {%- if genre %},
      "genre": {{ genre | dump }}
      {%- endif %}
    }
    </script>
    
    <link rel="stylesheet" href="/assets/css/main.css">
</head>
<body>
    <header class="header">
        <nav class="nav">
            <a href="/" class="nav-logo">Music Blog</a>
            <ul class="nav-links">
                <li><a href="/">Home</a></li>
                <li><a href="/blog/">Blog</a></li>
                <li><a href="/music/">Music</a></li>
            </ul>
        </nav>
    </header>

    <main class="main">
        <div class="content">
            {{ content | safe }}
        </div>
    </main>

    <footer class="footer">
        <p>&copy; 2024 zuned11. All rights reserved.</p>
    </footer>

    <script src="/assets/js/main.js"></script>
</body>
</html>